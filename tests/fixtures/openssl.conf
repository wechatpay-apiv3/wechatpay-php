### via
### @link https://stackoverflow.com/questions/52076800/openssl-pkey-new-throws-error-configuration-file-routinesnconf-get-stringno-va
### modified by
### @link https://github.com/openssl/openssl/issues/7754#issuecomment-444063355
###
#PHP shim for an otherwise beautiful openssl.cnf
#RANDFILE    = /dev/null #PHP warns if this doesn't exist
oid_file    = /dev/null #PHP warns if this doesn't exist
#PHP warns if oid_section isn't in the default section
#PHP warns if oid_section is used in another section (only on initialization)
oid_section = php_oids  #set an empty OID section
# .include /etc/ssl/openssl.cnf    #include our working conf
[ req ]
  #differs from attr format
  attributes         = php_attr #openssl_csr_new()
  #not set in include
  encrypt_rsa_key    = no #encrypt_key
  #uncomment to override include
  req_extensions     = php_req_extension #req_extensions
  x509_extensions    = php_x509_extension #x509_extensions
  default_bits       = 2048          #private_key_bits
  default_md         = sha256        #digest_alg
  string_mask        = utf8only      #string_mask
  #distinguished_name = php_distinguished_name #openssl_csr_new()
[ php_attr ] #empty attributes section (supports callengePassword,unstructuredName)
[ php_oids ] #empty OID section
[ php_distinguished_name ] #empty DN section (supports both DN conf formats)
[ php_x509_extension ] #empty x509 extension section
  subjectKeyIdentifier   = hash #at least one value required
[ php_req_extension ] #empty req extension section
  subjectKeyIdentifier   = hash #at least one value required
